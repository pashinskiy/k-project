<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: components/filter/blockFromTo.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: components/filter/blockFromTo.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import React from "react"
import { Grid, makeStyles, Input, Slider } from "@material-ui/core"
import Wrapper from "./wrapper"

const useStyles = makeStyles(theme => ({
  input: {
    width: "48%",
    boxSizing: "box-sizing",
    background: theme.palette.background.main,
    border: "solid",
    borderColor: theme.palette.color.accentSecondary,
    fontWeight: 400,
    lineHeight: 1.21,
    position: "relative",

    height: "3.75vw",
    padding: "0.93vw",
    paddingLeft: "2.5vw",
    borderWidth: "0.07vw",
    borderRadius: "0.46vw",
    fontSize: "1.09vw",
    "@media(min-width: 1280px)": {
      height: "48px",
      padding: "12px",
      paddingLeft: "32px",
      borderWidth: "1px",
      borderRadius: "6px",
      fontSize: "14px",
    },
    "@media(max-width: 1025px)": {
      height: "5.75vw",
      padding: "1.43vw",
      paddingLeft: "3.83vw",
      borderWidth: "0.11vw",
      borderRadius: "0.71vw",
      fontSize: "1.67vw",
    },
    "@media(max-width: 767px)": {
      height: "11.59vw",
      padding: "2.89vw",
      paddingLeft: "7.72vw",
      borderWidth: "0.24vw",
      borderRadius: "1.44vw",
      fontSize: "3.38vw",
    },
    "&amp;:before": {
      display: "block",
      content: "'от'",
      color: "#838383",
      position: "absolute",
      top: "50%",
      left: 0,
      transform: "translate(0, -53%)",
      marginLeft: "0.93vw",
      "@media(min-width: 1280px)": {
        marginLeft: "12px",
      },
      "@media(max-width: 1025px)": {
        marginLeft: "1.43vw",
      },
      "@media(max-width: 767px)": {
        marginLeft: "2.89vw",
      },
    },
    "&amp;:last-child": {
      "&amp;:before": {
        content: "'до'",
      },
    },
  },
  root: {
    padding: "0 !important",
    color: theme.palette.color.accentSecondary,
    alignSelf: "center",

    height: "0.31vw",
    marginTop: "2.18vw",
    width: "calc(100% - 1.56vw)",
    "@media(min-width: 1280px)": {
      height: "4px",
      marginTop: "28px",
      width: "calc(100% - 20px)",
    },
    "@media(max-width: 1025px)": {
      height: "0.47vw",
      marginTop: "3.35vw",
      width: "calc(100% - 2.39vw)",
    },
    "@media(max-width: 767px)": {
      height: "0.96vw",
      marginTop: "6.76vw",
      width: "calc(100% - 4.83vw)",
    },
  },
  track: {
    height: "100%",
    background: theme.palette.background.accent,
  },
  rail: {
    height: "100%",
    background: theme.palette.background.accent,
  },
  thumb: {
    background: theme.palette.background.main,
    borderColor: theme.palette.primary.accent,
    borderStyle: "solid",
    boxShadow: "0px 4px 12px 0px #00000040",

    width: "1.56vw",
    height: "1.56vw",
    marginTop: "-0.745vw",
    marginLeft: "-0.78vw",
    borderWidth: "0.07vw",
    borderRadius: "0.46vw",
    "@media(min-width: 1280px)": {
      width: "20px",
      height: "20px",
      marginTop: "-8px",
      marginLeft: "-10px",
      borderRadius: "6px",
      borderWidth: "1px",
    },
    "@media(max-width: 1025px)": {
      width: "2.39vw",
      height: "2.39vw",
      marginTop: "-1.14vw",
      marginLeft: "-1.195vw",
      borderWidth: "0.11vw",
      borderRadius: "0.71vw",
    },
    "@media(max-width: 767px)": {
      width: "4.83vw",
      height: "4.83vw",
      marginTop: "-2.295vw",
      marginLeft: "-2.415vw",
      borderWidth: "0.24vw",
      borderRadius: "1.44vw",
    },
  },
}))

/**
 * Блок фильтра с выбором от и до
 * @module src/components/filter/blockFromTo
 * @param {Object} props - объект свойств компонента React
 * @param {String} props.title - название характеристики
 * @param {Object[]} props.set - массив всех возможных вариантов характеристики
 * @param {Object[]} props.span - массив вида [min, max] установленый в фильтр
 * @param {function} props.setSpan - функция установки массива [min, max] в фильтр
 * @param {boolean} [props.slider] - отображение ползунка
 */
export default function BlockFromTo({
  title,
  set,
  span,
  setSpan,
  slider,
  ...other
}) {
  const classes = useStyles()

  const sortSet = set.map(el => +el).sort((a, b) => a - b)
  const valueMax = sortSet[sortSet.length - 1]
  const valueMin = sortSet[0]

  const value = span ? span : [valueMin, valueMax]
  const id =
    "id" +
    title
      .split("")
      .map(char => "_" + char.charCodeAt(0))
      .join("")

  React.useEffect(() => {
    const wrapper = document.querySelector(`#${id}`)
    if (wrapper) {
      wrapper.children[0].children[0].addEventListener("blur", onBlur)
      wrapper.children[1].children[0].addEventListener("blur", onBlur)
      return () => {
        wrapper.children[0].children[0].removeEventListener("blur", onBlur)
        wrapper.children[1].children[0].removeEventListener("blur", onBlur)
      }
    }
  })

  function onBlur() {
    const result = value
      .sort((a, b) => a - b)
      .map(el => {
        if (el &lt; valueMin) return valueMin
        if (el > valueMax) return valueMax
        return el
      })

    if (result[0] === valueMin &amp;&amp; result[1] === valueMax) setSpan(title, [])
    else setSpan(title, result)
  }

  function changeValue(e) {
    const result = value
    if (e.target.id === `${id}_from` &amp;&amp; !isNaN(+e.target.value))
      result[0] = +e.target.value
    if (e.target.id === `${id}_to` &amp;&amp; !isNaN(+e.target.value))
      result[1] = +e.target.value
    setSpan(title, [...result])
  }

  return valueMax !== valueMin ? (
    &lt;Wrapper title={title} {...other}>
      &lt;label for="from">&lt;/label>
      &lt;label for="to">&lt;/label>
      &lt;Grid container justify="space-between" id={id}>
        &lt;Input
          value={value[0]}
          id={`${id}_from`}
          name="from"
          onChange={changeValue}
          disableUnderline
          className={classes.input}
          aria-label="цена от"
        />
        &lt;Input
          value={value[1]}
          id={`${id}_to`}
          name="to"
          onChange={changeValue}
          disableUnderline
          className={classes.input}
          aria-label="цена до"
        />
      &lt;/Grid>

      {slider ? (
        &lt;Slider
          value={value}
          onChange={(e, newValue) => {
            setSpan(title, newValue)
          }}
          onPointerUp={onBlur}
          onPointerLeave={e =>
            e.currentTarget.dispatchEvent(new Event("pointerup"))
          }
          max={valueMax}
          min={valueMin}
          scale={x => `${x}руб.`}
          valueLabelDisplay="off"
          orientation="horizontal"
          getAriaLabel={index => (index ? `max` : `min`)}
          classes={{
            root: classes.root,
            track: classes.track,
            rail: classes.rail,
            thumb: classes.thumb,
            active: classes.thumb,
          }}
        />
      ) : null}
    &lt;/Wrapper>
  ) : null
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-src_clientOnly.html">src/clientOnly</a></li><li><a href="module-src_components_breadCrumbs.html">src/components/breadCrumbs</a></li><li><a href="module-src_components_button_addInCartAndFav.html">src/components/button/addInCartAndFav</a></li><li><a href="module-src_components_button_addInCartAndFav_buttonAddCart.html">src/components/button/addInCartAndFav/buttonAddCart</a></li><li><a href="module-src_components_button_addInCartAndFav_buttonAddFavorites.html">src/components/button/addInCartAndFav/buttonAddFavorites</a></li><li><a href="module-src_components_button_addInCartAndFav_buttonDelete.html">src/components/button/addInCartAndFav/buttonDelete</a></li><li><a href="module-src_components_button_addInCartAndFav_buttonPlusMinus.html">src/components/button/addInCartAndFav/buttonPlusMinus</a></li><li><a href="module-src_components_button_goRegistration.html">src/components/button/goRegistration</a></li><li><a href="module-src_components_button_pay.html">src/components/button/pay</a></li><li><a href="module-src_components_cartPage_cart.html">src/components/cartPage/cart</a></li><li><a href="module-src_components_cartPage_priceBlock.html">src/components/cartPage/priceBlock</a></li><li><a href="module-src_components_catalog_allProductsByCategory.html">src/components/catalog/allProductsByCategory</a></li><li><a href="module-src_components_catalog_blockPrice.html">src/components/catalog/blockPrice</a></li><li><a href="module-src_components_catalog_catalogCardProduct.html">src/components/catalog/catalogCardProduct</a></li><li><a href="module-src_components_catalog_fastLink.html">src/components/catalog/fastLink</a></li><li><a href="module-src_components_catalog_features.html">src/components/catalog/features</a></li><li><a href="module-src_components_catalog_filtersBySticker.html">src/components/catalog/filtersBySticker</a></li><li><a href="module-src_components_catalog_filtersByTag.html">src/components/catalog/filtersByTag</a></li><li><a href="module-src_components_catalog_scrollBar.html">src/components/catalog/scrollBar</a></li><li><a href="module-src_components_discountedProdicts_filterCategory.html">src/components/discountedProdicts/filterCategory</a></li><li><a href="module-src_components_discountedProdicts_filterCategory_filtersBySubcategory.html">src/components/discountedProdicts/filterCategory/filtersBySubcategory</a></li><li><a href="module-src_components_faqPage_context.html">src/components/faqPage/context</a></li><li><a href="module-src_components_faqPage_main.html">src/components/faqPage/main</a></li><li><a href="module-src_components_faqPage_menu.html">src/components/faqPage/menu</a></li><li><a href="module-src_components_faqPage_search.html">src/components/faqPage/search</a></li><li><a href="module-src_components_faqPage_searchPanel.html">src/components/faqPage/searchPanel</a></li><li><a href="module-src_components_faqPage_showComponent.html">src/components/faqPage/showComponent</a></li><li><a href="module-src_components_faqPage_subgroup.html">src/components/faqPage/subgroup</a></li><li><a href="module-src_components_filter.html">src/components/filter</a></li><li><a href="module-src_components_filter_blockBoolean.html">src/components/filter/blockBoolean</a></li><li><a href="module-src_components_filter_blockCheckbox.html">src/components/filter/blockCheckbox</a></li><li><a href="module-src_components_filter_blockColors.html">src/components/filter/blockColors</a></li><li><a href="module-src_components_filter_blockFromTo.html">src/components/filter/blockFromTo</a></li><li><a href="module-src_components_filter_blockMax.html">src/components/filter/blockMax</a></li><li><a href="module-src_components_filter_blockRatio.html">src/components/filter/blockRatio</a></li><li><a href="module-src_components_filter_buttonClean.html">src/components/filter/buttonClean</a></li><li><a href="module-src_components_headers_headersWithIcon.html">src/components/headers/headersWithIcon</a></li><li><a href="module-src_components_layout.html">src/components/layout</a></li><li><a href="module-src_components_layout_catalog.html">src/components/layout/catalog</a></li><li><a href="module-src_components_layout_catalog_category.html">src/components/layout/catalog/category</a></li><li><a href="module-src_components_layout_catalog_mobile.html">src/components/layout/catalog/mobile</a></li><li><a href="module-src_components_layout_footer.html">src/components/layout/footer</a></li><li><a href="module-src_components_layout_footer_link.html">src/components/layout/footer/link</a></li><li><a href="module-src_components_layout_footer_link_default.html">src/components/layout/footer/link/default</a></li><li><a href="module-src_components_layout_footer_productSlider.html">src/components/layout/footer/productSlider</a></li><li><a href="module-src_components_layout_footer_social.html">src/components/layout/footer/social</a></li><li><a href="module-src_components_layout_header.html">src/components/layout/header</a></li><li><a href="module-src_components_layout_header_buttonWithIcon.html">src/components/layout/header/buttonWithIcon</a></li><li><a href="module-src_components_layout_header_catalog.html">src/components/layout/header/catalog</a></li><li><a href="module-src_components_layout_header_link_default.html">src/components/layout/header/link/default</a></li><li><a href="module-src_components_layout_header_link_sale.html">src/components/layout/header/link/sale</a></li><li><a href="module-src_components_layout_header_search.html">src/components/layout/header/search</a></li><li><a href="module-src_components_layout_mobileMenu.html">src/components/layout/mobileMenu</a></li><li><a href="module-src_components_mainPage_advantages.html">src/components/mainPage/advantages</a></li><li><a href="module-src_components_mainPage_categories.html">src/components/mainPage/categories</a></li><li><a href="module-src_components_mainPage_dayProduct.html">src/components/mainPage/dayProduct</a></li><li><a href="module-src_components_mainPage_dayProduct_cardProduct.html">src/components/mainPage/dayProduct/cardProduct</a></li><li><a href="module-src_components_mainPage_hot.html">src/components/mainPage/hot</a></li><li><a href="module-src_components_mainPage_newProducts.html">src/components/mainPage/newProducts</a></li><li><a href="module-src_components_mainPage_news.html">src/components/mainPage/news</a></li><li><a href="module-src_components_mainPage_popular.html">src/components/mainPage/popular</a></li><li><a href="module-src_components_mainPage_sales.html">src/components/mainPage/sales</a></li><li><a href="module-src_components_mainPage_saleValue.html">src/components/mainPage/saleValue</a></li><li><a href="module-src_components_mainPage_social.html">src/components/mainPage/social</a></li><li><a href="module-src_components_mainPageSlider.html">src/components/mainPageSlider</a></li><li><a href="module-src_components_mainPageSlider_advertiseCard.html">src/components/mainPageSlider/advertiseCard</a></li><li><a href="module-src_components_mokkaIframeRegistration.html">src/components/mokkaIframeRegistration</a></li><li><a href="module-src_components_orderingPage_context.html">src/components/orderingPage/context</a></li><li><a href="module-src_components_orderingPage_deliveryData.html">src/components/orderingPage/deliveryData</a></li><li><a href="module-src_components_orderingPage_elementsForms_input.html">src/components/orderingPage/elementsForms/input</a></li><li><a href="module-src_components_orderingPage_elementsForms_listRatioRect.html">src/components/orderingPage/elementsForms/listRatioRect</a></li><li><a href="module-src_components_orderingPage_elementsForms_select.html">src/components/orderingPage/elementsForms/select</a></li><li><a href="module-src_components_orderingPage_elementsForms_selectCity.html">src/components/orderingPage/elementsForms/selectCity</a></li><li><a href="module-src_components_orderingPage_elementsForms_variantDelivery.html">src/components/orderingPage/elementsForms/variantDelivery</a></li><li><a href="module-src_components_orderingPage_elementsForms_wrapperWithTitle.html">src/components/orderingPage/elementsForms/wrapperWithTitle</a></li><li><a href="module-src_components_orderingPage_headerWithIcon.html">src/components/orderingPage/headerWithIcon</a></li><li><a href="module-src_components_orderingPage_payData.html">src/components/orderingPage/payData</a></li><li><a href="module-src_components_orderingPage_priceBlock.html">src/components/orderingPage/priceBlock</a></li><li><a href="module-src_components_orderingPage_recipientData.html">src/components/orderingPage/recipientData</a></li><li><a href="module-src_components_orderingPage_smallHeaderAccentWithIcon.html">src/components/orderingPage/smallHeaderAccentWithIcon</a></li><li><a href="module-src_components_orderingPage_smallHeaderWithIcon.html">src/components/orderingPage/smallHeaderWithIcon</a></li><li><a href="module-src_components_orderPage_orderCard.html">src/components/orderPage/orderCard</a></li><li><a href="module-src_components_pagination.html">src/components/pagination</a></li><li><a href="module-src_components_popularBrand.html">src/components/popularBrand</a></li><li><a href="module-src_components_productAddedCard.html">src/components/productAddedCard</a></li><li><a href="module-src_components_productAddedCard_cardOfferProduct.html">src/components/productAddedCard/cardOfferProduct</a></li><li><a href="module-src_components_productPage_cardProduct.html">src/components/productPage/cardProduct</a></li><li><a href="module-src_components_productPage_cardProduct_blockPrice.html">src/components/productPage/cardProduct/blockPrice</a></li><li><a href="module-src_components_productPage_cardProduct_features.html">src/components/productPage/cardProduct/features</a></li><li><a href="module-src_components_productPage_cardProduct_productSlider.html">src/components/productPage/cardProduct/productSlider</a></li><li><a href="module-src_components_productPage_cardProduct_title.html">src/components/productPage/cardProduct/title</a></li><li><a href="module-src_components_productPage_delivery.html">src/components/productPage/delivery</a></li><li><a href="module-src_components_productPage_delivery_deliveryCard.html">src/components/productPage/delivery/deliveryCard</a></li><li><a href="module-src_components_productPage_gallery.html">src/components/productPage/gallery</a></li><li><a href="module-src_components_productPage_gallery_imagesRow.html">src/components/productPage/gallery/imagesRow</a></li><li><a href="module-src_components_productPage_landing.html">src/components/productPage/landing</a></li><li><a href="module-src_components_productPage_landing_imageAndText.html">src/components/productPage/landing/imageAndText</a></li><li><a href="module-src_components_productPage_landing_oneImage.html">src/components/productPage/landing/oneImage</a></li><li><a href="module-src_components_productPage_landing_onlyText.html">src/components/productPage/landing/onlyText</a></li><li><a href="module-src_components_productPage_landing_twoImages.html">src/components/productPage/landing/twoImages</a></li><li><a href="module-src_components_productPage_similarProducts.html">src/components/productPage/similarProducts</a></li><li><a href="module-src_components_productPage_tabPanel.html">src/components/productPage/tabPanel</a></li><li><a href="module-src_components_productPage_%25D1%2581haracteristics.html">src/components/productPage/сharacteristics</a></li><li><a href="module-src_components_productPage_%25D1%2581haracteristics_%25D1%2581haracteristics.html">src/components/productPage/сharacteristics/сharacteristics</a></li><li><a href="module-src_components_saleCardPanel.html">src/components/saleCardPanel</a></li><li><a href="module-src_components_saleCardPanel_saleCard.html">src/components/saleCardPanel/saleCard</a></li><li><a href="module-src_components_saleCardPanel_saleCardMain.html">src/components/saleCardPanel/saleCardMain</a></li><li><a href="module-src_components_salesTextPanel.html">src/components/salesTextPanel</a></li><li><a href="module-src_components_scrollBar.html">src/components/scrollBar</a></li><li><a href="module-src_components_scrollBar_productsScrollBar.html">src/components/scrollBar/productsScrollBar</a></li><li><a href="module-src_components_scrollBar_productsScrollBar_cardProduct.html">src/components/scrollBar/productsScrollBar/cardProduct</a></li><li><a href="module-src_components_search.html">src/components/search</a></li><li><a href="module-src_components_seo.html">src/components/seo</a></li><li><a href="module-src_components_smallCategoriesPanel.html">src/components/smallCategoriesPanel</a></li><li><a href="module-src_components_sort.html">src/components/sort</a></li><li><a href="module-src_components_widgets_cardWidget.html">src/components/widgets/cardWidget</a></li><li><a href="module-src_components_widgets_storiesPanel.html">src/components/widgets/storiesPanel</a></li><li><a href="module-src_context_GlobalContextProvider.html">src/context/GlobalContextProvider</a></li><li><a href="module-src_page_404.html">src/page/404</a></li><li><a href="module-src_page_cart.html">src/page/cart</a></li><li><a href="module-src_page_discounted-products.html">src/page/discounted-products</a></li><li><a href="module-src_page_documents.html">src/page/documents</a></li><li><a href="module-src_page_faq.html">src/page/faq</a></li><li><a href="module-src_page_favorites.html">src/page/favorites</a></li><li><a href="module-src_page_index.html">src/page/index</a></li><li><a href="module-src_page_order.html">src/page/order</a></li><li><a href="module-src_page_ordering.html">src/page/ordering</a></li><li><a href="module-src_page_products.html">src/page/products</a></li><li><a href="module-src_page_sales.html">src/page/sales</a></li><li><a href="module-src_templates_category.html">src/templates/category</a></li><li><a href="module-src_templates_document.html">src/templates/document</a></li><li><a href="module-src_templates_product.html">src/templates/product</a></li><li><a href="module-src_templates_sale.html">src/templates/sale</a></li><li><a href="module-src_templates_subcategory.html">src/templates/subcategory</a></li><li><a href="module-src_templates_theme.html">src/templates/theme</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.7</a> on Mon Aug 30 2021 17:26:44 GMT+0300 (Москва, стандартное время)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
